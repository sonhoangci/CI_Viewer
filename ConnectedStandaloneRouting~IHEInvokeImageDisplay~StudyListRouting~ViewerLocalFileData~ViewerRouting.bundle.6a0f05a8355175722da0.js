(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1045:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(123),c=r(79),s=r(35),l=r(1),i=r.n(l),u=r(17),m=r.n(u),f=r(13),d=["ctrl","alt","shift"],p={"":[],alt:["space"],shift:[],ctrl:["f4","f5","f11","w","r","t","o","p","a","d","f","g","h","j","l","z","x","c","v","b","n","pagedown","pageup"],"ctrl+shift":["q","w","r","t","p","a","h","v","b","n"]},y=function(e){return e.join("+")},v="It's not possible to define only modifier keys (ctrl, alt and shift) as a shortcut",h="Field can't be empty.",b=[function(e){var t=e.pressedKeys;if(!(void 0===t?[]:t).length)return{hasError:!0,errorMessage:h}},function(e){var t=e.pressedKeys,r=t[t.length-1];if(d.includes(r))return{hasError:!0,errorMessage:v}},function(e){var t=e.commandName,r=e.pressedKeys,n=function(e,t,r){var n=void 0,a=y(r);for(var o in e){var c=e[o].keys;if(a===y(c)&&o!==t){n=e[o];break}}return n}(e.hotkeys,t,r);if(n)return{hasError:!0,errorMessage:'"'.concat(n.label,'" is already using the "').concat(r,'" shortcut.')}},function(e){var t=e.pressedKeys,r=void 0===t?[]:t,n=r[r.length-1],a=y(r.slice(0,r.length-1)),o=p[a];if(!!o&&o.includes(n))return{hasError:!0,errorMessage:'"'.concat(y(r),'" shortcut combination is not allowed')}}],g=r(258);r(1063);function w(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var c,s=e[Symbol.iterator]();!(n=(c=s.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(r,!0).forEach((function(t){k(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var N=function(e){return{hotkeys:j({},e),errors:{}}},P=function(e){var t=e.commandName,r=e.pressedKeys,n=e.hotkeys,a=!0,o=!1,c=void 0;try{for(var s,l=b[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var i=(0,s.value)({commandName:t,pressedKeys:r,hotkeys:n});if(i&&i.hasError)return i}}catch(e){o=!0,c=e}finally{try{a||null==l.return||l.return()}finally{if(o)throw c}}return{errorMessage:void 0}},S=function(e){var t=[],r=Object.entries(e);if(r.length){var n=Math.ceil(r.length/2);t.push(r.slice(0,n)),t.push(r.slice(n,r.length))}return t};function C(e){var t=e.onClose,r=Object(s.c)("UserPreferencesModal").t,o=g.d.hotkeyDefaults,c=g.d.hotkeyDefinitions,l=O(Object(n.useState)(N(c)),2),i=l[0],u=l[1],p=Object(f.S)(),y=Object.keys(i.errors).some((function(e){return!!i.errors[e]})),v=Object.keys(i.hotkeys).length,h=S(i.hotkeys);return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"HotkeysPreferences"},v?a.a.createElement("div",{className:"hotkeyTable"},h.map((function(e,t){return a.a.createElement("div",{className:"hotkeyColumn",key:t},a.a.createElement("div",{className:"hotkeyHeader"},a.a.createElement("div",{className:"headerItemText text-right"},"Function"),a.a.createElement("div",{className:"headerItemText text-center"},"Shortcut")),e.map((function(e){var t=e[0],r=e[1],n=r.keys,o=r.label,c=i.errors[e[0]];return a.a.createElement("div",{key:t,className:"hotkeyRow"},a.a.createElement("div",{className:"hotkeyLabel"},o),a.a.createElement("div",{"data-key":"defaultTool",className:m()("wrapperHotkeyInput",c?"stateError":"")},a.a.createElement(f.j,{keys:n,modifier_keys:d,handleChange:function(e){!function(e,t,r){var n=P({commandName:e,pressedKeys:r,hotkeys:i.hotkeys}).errorMessage;u((function(a){return{hotkeys:j({},a.hotkeys,k({},e,j({},t,{keys:r}))),errors:j({},a.errors,k({},e,n))}}))}(t,r,e)},classNames:"preferencesInput"}),a.a.createElement("span",{className:"preferencesInputErrorMessage"},c)))})))}))):"Hotkeys definitions is empty"),a.a.createElement(f.E,{onResetPreferences:function(){var e={};o.map((function(t){var r=t.commandName,n=w(t,["commandName"]);e[r]=j({},n)})),u(N(e))},onSave:function(){var e=i.hotkeys;g.d.setHotkeys(e),localStorage.setItem("hotkey-definitions",JSON.stringify(e)),t(),p.show({message:r("SaveMessage"),type:"success"})},onCancel:t,hasErrors:y,t:r}))}C.propTypes={onClose:i.a.func};var L=r(61),x=r(247);r(1064);function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(r,!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var c,s=e[Symbol.iterator]();!(n=(c=s.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var D=x.a.actions;function R(e){var t=e.onClose,r=Object(L.c)(),o=Object(L.d)((function(e){var t=e.preferences;return(void 0===t?{}:t).windowLevelData})),c=T(Object(n.useState)({values:M({},o)}),2),l=c[0],i=c[1],u=Object(s.c)("UserPreferencesModal").t,m=Object(f.S)(),d=function(e){var t=e.target,r=t.dataset,n=r.key,a=r.inputname,o=t.value;l.values[n]&&l.values[n][a]&&i((function(e){return M({},e,{values:M({},e.values,A({},n,M({},e.values[n],A({},a,o))))})}))};return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"WindowLevelPreferences"},a.a.createElement("div",{className:"wlColumn"},a.a.createElement("div",{className:"wlRow header"},a.a.createElement("div",{className:"wlColumn preset"},"Preset"),a.a.createElement("div",{className:"wlColumn description"},"Description"),a.a.createElement("div",{className:"wlColumn window"},"Window"),a.a.createElement("div",{className:"wlColumn level"},"Level")),Object.keys(l.values).map((function(e,t){return a.a.createElement("div",{className:"wlRow",key:e},a.a.createElement("div",{className:"wlColumn preset"},e),a.a.createElement("div",{className:"wlColumn description"},a.a.createElement("input",{type:"text",className:"preferencesInput",value:l.values[e].description,"data-key":e,"data-inputname":"description",onChange:d})),a.a.createElement("div",{className:"wlColumn window"},a.a.createElement("input",{type:"number",className:"preferencesInput",value:l.values[e].window,"data-key":e,"data-inputname":"window",onChange:d})),a.a.createElement("div",{className:"wlColumn level"},a.a.createElement("input",{type:"number",className:"preferencesInput",value:l.values[e].level,"data-key":e,"data-inputname":"level",onChange:d})))})))),a.a.createElement(f.E,{onResetPreferences:function(){},onSave:function(){r(D.setUserPreferences({windowLevelData:l.values})),t(),m.show({message:u("SaveMessage"),type:"success"})},onCancel:t,hasErrors:!1,t:u}))}R.propTypes={onClose:i.a.func};var F=r(115);r(1065);function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var c,s=e[Symbol.iterator]();!(n=(c=s.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function K(e){var t=e.onClose,r=Object(s.c)("UserPreferencesModal").t,o=Object(f.S)(),c=F.a.language,l=F.a.availableLanguages,i=H(Object(n.useState)(c),2),u=i[0],m=i[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"GeneralPreferences"},a.a.createElement("div",{className:"language"},a.a.createElement("label",{htmlFor:"language-select",className:"languageLabel"},"Language"),a.a.createElement(f.l,{language:u,onLanguageChange:m,languages:l}))),a.a.createElement(f.E,{onResetPreferences:function(){m(F.a.defaultLanguage)},onSave:function(){F.a.changeLanguage(u),t(),o.show({message:r("SaveMessage"),type:"success"})},onCancel:t,hasErrors:!1,t:r}))}K.propTypes={onClose:i.a.func};r(1066);var U=[{name:"Hotkeys",Component:C,customProps:{}},{name:"General",Component:K,customProps:{}},{name:"Window Level",Component:R,customProps:{}}];function q(e){var t={onClose:e.hide};return a.a.createElement(f.D,{tabs:U,customProps:t})}q.propTypes={hide:i.a.func};r(1067);var J=function(){return a.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:"header-brand",href:"https://www.consultindochina.com"},a.a.createElement("img",{src:"https://www.consultindochina.com/images/logoCI.png"}),a.a.createElement("h1",{className:"header-text"},"medical imaging technology"))};r(1068);function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var c,s=e[Symbol.iterator]();!(n=(c=s.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function G(e){var t=e.t,r=e.user,c=e.userManager,s=e.modal.show,l=e.useLargeLogo,i=e.linkPath,u=e.linkText,d=e.location,p=e.children,y=W(Object(n.useState)([]),2),v=y[0],h=y[1],b=u&&i;return Object(n.useEffect)((function(){var e=[{title:t("About"),icon:{name:"info"},onClick:function(){return s({content:f.a,title:t("CI - About")})}},{title:t("Preferences"),icon:{name:"user"},onClick:function(){return s({content:q,title:t("User Preferences")})}}];r&&c&&e.push({title:t("Logout"),icon:{name:"power-off"},onClick:function(){return c.signoutRedirect()}}),h(e)}),[h,s,t,r,c]),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:m()("entry-header",{"header-big":l})},a.a.createElement("div",{className:"header-left-box"},d&&d.studyLink&&a.a.createElement(o.b,{to:d.studyLink,className:"header-btn header-viewerLink"},t("Back to Viewer")),p,b&&a.a.createElement(o.b,{className:"header-btn header-studyListLinkSection",to:{pathname:i,state:{studyLink:d.pathname}}},t(u))),a.a.createElement("div",{className:"header-menu"},a.a.createElement(f.f,{title:t("Options"),list:v,align:"right"}))))}G.propTypes={linkText:i.a.string,linkPath:i.a.string,useLargeLogo:i.a.bool,location:i.a.object.isRequired,children:i.a.node,t:i.a.func.isRequired,userManager:i.a.object,user:i.a.object,modal:i.a.object},G.defaultProps={useLargeLogo:!1,children:J()};var _=Object(s.d)(["Header","AboutModal"])(Object(c.g)(Object(f.U)(G))),z=Object(L.b)((function(e){return{user:e.oidc&&e.oidc.user}}))(_);t.a=z},1063:function(e,t,r){},1064:function(e,t,r){},1065:function(e,t,r){},1066:function(e,t,r){},1067:function(e,t,r){},1068:function(e,t,r){}}]);
//# sourceMappingURL=ConnectedStandaloneRouting~IHEInvokeImageDisplay~StudyListRouting~ViewerLocalFileData~ViewerRouting.bundle.6a0f05a8355175722da0.js.map